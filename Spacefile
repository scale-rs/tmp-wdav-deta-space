# Spacefile Docs: https://go.deta.dev/docs/spacefile/v0
v: 0
micros:
  - name: main  
    primary: true
    # TODO: Make only /write and /read public
    public: true
    src: .
    engine: custom
    dev: cargo run
    commands:
      - rustup target add x86_64-unknown-linux-musl
      - cargo build --release --target=x86_64-unknown-linux-musl
    run: target/x86_64-unknown-linux-musl/release/tmp-wdav-deta-space
    include:
      - target/x86_64-unknown-linux-musl/release/tmp-wdav-deta-space
# TODO Non-empty salt, with default. Why? So that if we share both a public read-only URL and
# private/restricted read-write URL (hash), recipients cant't brute-force our Deta.Space private
# key.
